<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dataset &mdash; EnSysMod 0.0.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Modell" href="3_model.html" />
    <link rel="prev" title="Installation" href="1_installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> EnSysMod
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../usage.html">Usage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1_installation.html">Installation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dataset</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-new-dataset">Create a new dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-data">Read data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#zip-upload">Zip-Upload</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upload-data-per-rest-api-interfaces-individually">Upload data per REST API interfaces individually</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="3_model.html">Modell</a></li>
<li class="toctree-l2"><a class="reference internal" href="execute.html">Optimierung starten</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Ergebnisse abrufen</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../endpoints.html">Endpoints of REST-API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projectStructure.html">Project structure</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EnSysMod</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../usage.html">Usage</a> &raquo;</li>
      <li>Dataset</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/NOWUM/ensysmod/blob/main/docs/source/usage/2_dataset.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dataset">
<h1>Dataset<a class="headerlink" href="#dataset" title="Permalink to this headline"></a></h1>
<section id="introduction">
<span id="id1"></span><h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h2>
<p>A dataset has different components. It contains commodities, as which energy source is used in the energy system, and the regions, your energy system is based on.
Furthermore the dataset consists of energy sources, sinks, storages, conversions and transmissions.</p>
<p>With one dataset several modeling runs can be performed.</p>
</section>
<section id="create-a-new-dataset">
<span id="newdataset"></span><h2>Create a new dataset<a class="headerlink" href="#create-a-new-dataset" title="Permalink to this headline"></a></h2>
<p>To create a new dataset, the API REST interface <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/datasets/</span></code> is addressed. You can provide the following
parameters:</p>
<ul class="simple">
<li><p><cite>name</cite>: name of the dataset</p></li>
<li><p><cite>description</cite>: description of the dataset</p></li>
</ul>
<p>The endpoint returns the id of the new dataset. That will be needed in the following steps.</p>
<p>A full documentation of the API is available <a class="reference external" href="https://http://10.13.10.51:9000/redoc">as redoc documentation</a>.</p>
<dl class="http get">
<dt class="sig sig-object http" id="get--datasets-">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/datasets/</span></span><a class="headerlink" href="#get--datasets-" title="Permalink to this definition"></a></dt>
<dd><p><strong>All Datasets</strong></p>
<p>Retrieve all datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Query Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>skip</strong> (<em>integer</em>) – </p></li>
<li><p><strong>limit</strong> (<em>integer</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Successful Response</p></li>
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc4918#section-11.2">422 Unprocessable Entity</a></span> – Validation Error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--datasets-">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/datasets/</span></span><a class="headerlink" href="#post--datasets-" title="Permalink to this definition"></a></dt>
<dd><p><strong>Create Dataset</strong></p>
<p>Create a new dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Successful Response</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a></span> – Dataset with same name already exists.</p></li>
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc4918#section-11.2">422 Unprocessable Entity</a></span> – Validation Error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="read-data">
<span id="readdata"></span><h2>Read data<a class="headerlink" href="#read-data" title="Permalink to this headline"></a></h2>
<p>There are two ways to add data to a dataset. For both ways you need to provide the id of the dataset.</p>
<section id="zip-upload">
<h3>Zip-Upload<a class="headerlink" href="#zip-upload" title="Permalink to this headline"></a></h3>
<p>With the Zip-Upload, we’ve created a way to enter the data in the database with only one use of a API REST interface.
Once a zip archive is created in a certain format and with certain files, it can be uploaded with the API REST interface.
A dataset id is needed.</p>
<p>The zip archive contains other files and folder in which the regions, commodities and components to the energy system
are described. The zip archive is structured as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dataset.zip
 │   commodities.json
 │   regions.json
 ├───conversions/
 ├───sinks/
 ├───sources/
 ├───storages/
 └───transmissions/
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">`commodities.json</span></code> contains all commodities, which are used in the energy system.
The json file is structured as a list of commodities with name, unit and description.
The unit is used for all values in the energy system with that specific commodity.
Example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span> <span class="p">[</span>
     <span class="p">{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;electricity&quot;</span><span class="p">,</span>
         <span class="nt">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;kWh&quot;</span><span class="p">,</span>
         <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;example description&quot;</span>
     <span class="p">},</span>
     <span class="p">{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;heat&quot;</span><span class="p">,</span>
         <span class="nt">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;kWh&quot;</span>
     <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">regions.json</span></code> contains all regions, which are used in the energy system.
The json file is structured as a list of regions with name and description. Example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span> <span class="p">[</span>
     <span class="p">{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;region1&quot;</span><span class="p">,</span>
         <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;example description&quot;</span>
     <span class="p">},</span>
     <span class="p">{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;region2&quot;</span>
     <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>For each of the sections for energy sources, sinks, storages, conversions and transmissions exists a folder.
These folders contain other folders that are used as a listing of the various objects.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dataset.zip
 └───sources/
     ├───source-1/
     │       capacity.xlsx
     │       operationRateMax.xlsx
     │       source.json
     └───source-2/
             capacity.xlsx
             operationRateFix.xlsx
             source.json
</pre></div>
</div>
<p>For example, there are two folders in the source folder that contains data for two different energy sources.
A folder that maps an object contains a .json file that contains the parameters for the object, which are the same
across all regions. If there are parameters that are different for each region, these parameters (for example
capacity per region, operation rates, …) are stored in one Excel file each.
Each region is mapped as a column and the value (or values as a time series) is stored in the column according to the region.</p>
<p>The parameter that are needed for each object are documented here (TODO Link). All of the parameters can be set, but not all of them have to.</p>
<p>To show the structure of the zip file, we have created an example. This can be found <a class="reference external" href="https://github.com/NOWUM/EnSysMod/tree/main/examples/data/dataset-1/">here</a>.</p>
</section>
<section id="upload-data-per-rest-api-interfaces-individually">
<h3>Upload data per REST API interfaces individually<a class="headerlink" href="#upload-data-per-rest-api-interfaces-individually" title="Permalink to this headline"></a></h3>
<p>Another way is to upload the data in small pieces via the individual REST interfaces. A list of the interfaces can be found <a class="reference internal" href="../endpoints.html#rest-endpoints"><span class="std std-ref">here.</span></a>..</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="1_installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="3_model.html" class="btn btn-neutral float-right" title="Modell" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, NOWUM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>